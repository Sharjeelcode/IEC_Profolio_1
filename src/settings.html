<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="h-12 w-full flex justify-between z-50 items-center sticky top-0 bg-[#F1F4F5] shadow-lg">
        <div class="flex items-center ml-2">
            <img class="h-12" src="../assts/app logo.png" alt="">
            <h1 class="text-sm md:text-lg font-bold md:block">Expense Management System</h1>
        </div>
        <div class="mr-8 font-bold shadow-lg bg-[#0A6CFF] p-1 rounded text-white">
            <a href="signin.html" class="">Logout</a>
        </div>
    </nav>
    <div class=" lg:flex">
        <aside
            class="hidden w-full h-auto  lg:w-[15%]   bg-[#F1F4F5] shadow-lg shadow-black ow-black lg:h-[92vh] sticky top-12  lg:flex lg:flex-col">
            <a href="dashboard.html" class="mt-4 lg:mb-4 lg:py-4 font-bold text-lg pl-4 hover:shadow-lg  
                  ">Dashboard<a>
                    <a href="income.html" class="lg:mb-4 lg:py-4 font-bold text-lg pl-4 hover:shadow-lg ">Income</a>
                    <a href="expenses.html" class="lg:mb-4 lg:py-4 font-bold text-lg pl-4 hover:shadow-lg ">Expense</a>
                    <a href="catagory.html"
                        class="lg:mb-4 lg:py-4 font-bold text-lg pl-4 hover:shadow-lg ">Categories</a>
                    <a href="settings.html"
                        class="lg:mb-4 lg:py-4 font-bold text-lg pl-4 hover:shadow-lg  shadow-xl lg:border-r-4 border-[#0A6CFF]">Settings</a>
                    <a href="profile.html" class="lg:mb-4 lg:py-4 font-bold text-lg pl-4 hover:shadow-lg ">Profile</a>
        </aside>
        <main class="w-[50%]  lg:w-[85%] ml-2">
            <div class="m-4 p-4 w-auto h-auto shadow-xl border-2 rounded-full ">
                <h1 class="text-center text-lg font-bold">Add Expense categories</h1>
                <div class=" flex items-center mb-4">
                    <h1 class="text-lg mr-2">Enter catagory name : </h1>
                    <input type="text" class="border-2 outline-none" id="new_expense_catagory">

                </div>

                <div class="flex justify-center">
                    <input type="submit" value="Save"
                        class="cursor-pointer px-4 shadow-xl rounded-lg p-2 justify-center bg-[#0A6CFF] font-bold text-white"
                        id="add_expense_btn">
                </div>


            </div>
           
            <div class="m-4 p-4 w-auto h-auto shadow-xl border-2 rounded-full ">
                <h1 class="text-center text-lg font-bold">Add Income categories</h1>
                <div class=" flex items-center mb-4">
                    <h1 class="text-lg mr-2">Enter catagory name : </h1>
                    <input type="text" class="border-2 outline-none" id="new_income_catagory">

                </div>

                <div class="flex justify-center">
                    <input type="submit" value="Save"
                        class="cursor-pointer px-4 shadow-xl rounded-lg p-2 justify-center bg-[#0A6CFF] font-bold text-white"
                        id="add_income_btn">
                </div>


            </div>
           

        </main>


    </div>


<script>
let users = []
let userdata = localStorage.getItem('users')
let activeuser = localStorage.getItem('activeUser')
let active;
let $active_user_data;
if (userdata) {
    users = JSON.parse(userdata)
}
users.forEach(element => {
    if (element.email === activeuser) {
        active = true
        $active_user_data = element
    }
});
if (!active) {
    location.replace('./signin.html')
}    
let new_expense_catagory = document.getElementById('new_expense_catagory');
let new_income_catagory = document.getElementById('new_income_catagory');
let add_expense_btn = document.getElementById('add_expense_btn');
let add_income_btn = document.getElementById('add_income_btn');

// let expense = [];
// let income = [];
let expense_data = localStorage.getItem('expense');
let income_data = localStorage.getItem('income');

if (expense_data) {
    expense = JSON.parse(expense_data);
}
if (income_data) {
    income = JSON.parse(income_data);
}

add_expense_btn.addEventListener('click', () => {
    let enteredValue = new_expense_catagory.value;
    // Check if the entered value already exists in the array
    if (!expense.includes(enteredValue)) {
        expense.push(enteredValue);
        localStorage.setItem('expense', JSON.stringify(expense));
        new_expense_catagory.value = '';
    } else {
        alert('Duplicate Category!');
    }
});

add_income_btn.addEventListener('click', () => {
    let enteredValue = new_income_catagory.value;
    // Check if the entered value already exists in the array
    if (!income.includes(enteredValue)) {
        income.push(enteredValue);
        localStorage.setItem('income', JSON.stringify(income)); 
        new_income_catagory.value = '';
    } else {
        alert('Duplicate Category!');
    }
});


</script>

<!-- <script src="../script.js"></script> -->

</body>

</html>